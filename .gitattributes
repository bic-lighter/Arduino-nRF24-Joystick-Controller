#include <SPI.h>
#include <nRF24L01.h>
#include <RF24.h>
#define in1 A0
#define in2 A1
RF24 radio(9, 10);
const byte address[6] = "00001";
struct JoystickData {
  int Ux;
  int Uy;
} data;
void setup() {
  pinMode(in1, INPUT);
  pinMode(in2, INPUT);
  Serial.begin(9600);
  radio.begin();
  radio.openWritingPipe(address);
  radio.setPALevel(RF24_PA_LOW);
  radio.stopListening();
}
void loop() {
  data.Ux = analogRead(in1);
  data.Uy = analogRead(in2); 
  if (radio.write(&data, sizeof(data))) {
    Serial.println("Data sent successfully!");
  } else {
    Serial.println("Failed to send data.");
  }
  delay(20);
}
